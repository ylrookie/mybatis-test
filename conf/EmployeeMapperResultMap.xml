<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Dao.EmployeeMapperResultMap">

    <!-- public beansTest getEmployeeById(Integer id); -->
    <select id="getEmployeeById" resultMap="myemp">
        select id,last_name,gender,email from tbl_employee where id = #{id}
    </select>

    <!--
    <id> 主键列映射
        <column>指定结果集的列名
        <property>指定对象的属性名
    <result>普通列的映射
    -->
    <resultMap id="myemp" type="mybatisCS.beansTest">
        <id column="id" property="id"></id>
        <result column="last_name" property="lastName"></result>
        <result column="gender" property="gender"></result>
        <result column="email" property="email"></result>
    </resultMap>

    <!-- public beansTest getEmployeeAndDept(Integer id); -->
    <select id="getEmployeeAndDept" resultMap="andDept">
        select a.id aid,a.last_name,a.email,a.gender,b.dept_id ,b.dept__name from tbl_employee a,tbl_dept b where a.dept_id = b.dept_id and a.id = #{id}
    </select>

    <resultMap id="andDept" type="mybatisCS.beansTest">
        <id column="aid" property="id"></id>
        <result column="last_name" property="lastName"/>
        <result column="email" property="email"/>
        <result column="gender" property="gender"/>
        <!-- 级联 -->
        <result column="dept_id" property="dept.id"/>
        <result column="dept__name" property="dept.deptName"/>
    </resultMap>

</mapper>
